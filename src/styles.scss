@layer document-base {
  html[data-da="on"][data-da-background="none"] {
    // must be defaults, can't change
    background: #fff;
    color: #000;
  }
}

html[data-da="on"] {
  color-scheme: dark;
  filter: invert(0.9) hue-rotate(180deg);
}

html[data-da="on"] body {
  color-scheme: light;

  // [data-da-root] {
  //   filter: invert(0.08);
  // }

  $itemsToInvert: "img,svg,video,object,\
    [data-da-bg-color=dark],\
    [data-da-bg-color=light][data-da-size=xs],\
    [data-da-bg-color=medium][data-da-size=xs],\
    [data-da-bg-image][data-da-size=xs],\
    [style*='url(']:not([data-da-bg-image])\
  ";

  #{$itemsToInvert} {
    filter: invert(1) hue-rotate(180deg) brightness(1.1);

    #{$itemsToInvert} {
      filter: initial;
    }
  }
}
